<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento | Barbearia Vintage • Experiência Premium</title>
    <link rel="stylesheet" href="./vintage-premium.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <!-- Background Pattern -->
    <div class="pattern-overlay"></div>

    <!-- Header Premium -->
    <header class="header-premium">
        <nav class="nav-premium container">
            <div class="logo-premium">
                <img src="assets/logo-gold.svg" alt="Barbearia Vintage">
                <span>Barbearia <em>Vintage</em></span>
            </div>

            <button class="menu-toggle-premium" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <ul class="nav-menu-premium">
                <li><a href="index.html#home">Início</a></li>
                <li><a href="index.html#servicos">Serviços</a></li>
                <li><a href="index.html#profissionais">Profissionais</a></li>
                <li><a href="index.html#sobre">Sobre</a></li>
                <li><a href="index.html#contato">Contato</a></li>
                <li><a href="login.html" class="btn-login-premium"><i class="fas fa-user"></i> Acessar</a></li>
                <li><a href="agendamento.html" class="btn-agendar-premium active"><i class="fas fa-calendar"></i>
                        Agendar</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Hero Section Luxo -->
        <section class="hero-agendamento">
            <div class="hero-vignette"></div>
            <div class="container">
                <div class="hero-content-premium">
                    <div class="hero-badge">
                        <span class="badge-line"></span>
                        <span class="badge-text">Experiência Exclusiva</span>
                        <span class="badge-line"></span>
                    </div>
                    <h1 class="hero-title">
                        Agende seu<br>
                        <span class="title-em">Momento de<span class="gold-text"> Elegância</span></span>
                    </h1>
                    <p class="hero-description">
                        Cada visita é uma experiência única. Escolha seus serviços e prepare-se<br class="hide-mobile">
                        para viver o verdadeiro ritual da barbearia clássica.
                    </p>

                    <div class="hero-features">
                        <div class="feature-item">
                            <i class="fas fa-clock"></i>
                            <span>Agendamento Rápido</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-star"></i>
                            <span>Profissionais Especialistas</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>Ambiente Seguro</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Elementos decorativos -->
            <div class="hero-decoration decoration-1"></div>
            <div class="hero-decoration decoration-2"></div>
            <div class="hero-decoration decoration-3"></div>
        </section>

        <!-- Seção principal de agendamento -->
        <section class="agendamento-premium">
            <div class="container">
                <!-- Barra de Progresso Ultra Premium -->
                <div class="progress-premium">
                    <div class="progress-track-premium">
                        <div class="progress-fill-premium" id="progressFill" style="width: 25%"></div>
                    </div>

                    <div class="steps-premium">
                        <div class="step-item active" data-step="1">
                            <div class="step-marker">
                                <span class="step-number">01</span>
                                <div class="step-dot"></div>
                            </div>
                            <div class="step-label">
                                <span class="step-name">Escolha</span>
                                <span class="step-desc">Serviços</span>
                            </div>
                        </div>

                        <div class="step-item" data-step="2">
                            <div class="step-marker">
                                <span class="step-number">02</span>
                                <div class="step-dot"></div>
                            </div>
                            <div class="step-label">
                                <span class="step-name">Selecione</span>
                                <span class="step-desc">Mestre Barbeiro</span>
                            </div>
                        </div>

                        <div class="step-item" data-step="3">
                            <div class="step-marker">
                                <span class="step-number">03</span>
                                <div class="step-dot"></div>
                            </div>
                            <div class="step-label">
                                <span class="step-name">Defina</span>
                                <span class="step-desc">Data & Horário</span>
                            </div>
                        </div>

                        <div class="step-item" data-step="4">
                            <div class="step-marker">
                                <span class="step-number">04</span>
                                <div class="step-dot"></div>
                            </div>
                            <div class="step-label">
                                <span class="step-name">Confirme</span>
                                <span class="step-desc">Detalhes</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card Principal de Agendamento Luxo -->
                <div class="agendamento-card-premium">

                    <!-- PASSO 1: SERVIÇOS -->
                    <div id="step1" class="step-content active">
                        <div class="step-header-premium">
                            <h2>Serviços <span class="gold">Artesanais</span></h2>
                            <p>Cada serviço é executado com técnicas tradicionais e produtos premium</p>
                        </div>

                        <div class="servicos-grid-premium">
                            <!-- Corte Clássico -->
                            <div class="servico-card-premium" data-servico="corte" data-preco="45" data-duracao="30">
                                <div class="servico-image">
                                    <img src="assets/service-cut.jpg" alt="Corte Clássico">
                                    <div class="servico-overlay">
                                        <div class="servico-tag">Mais pedido</div>
                                    </div>
                                </div>

                                <div class="servico-body">
                                    <div class="servico-icon">
                                        <i class="fas fa-cut"></i>
                                    </div>
                                    <h3>Corte Clássico</h3>
                                    <p>Tradição e estilo com tesoura e máquina, finalizado com produtos da melhor
                                        qualidade.</p>

                                    <div class="servico-details">
                                        <div class="detail-item">
                                            <i class="far fa-clock"></i>
                                            <span>30 min</span>
                                        </div>
                                        <div class="detail-item">
                                            <i class="fas fa-tag"></i>
                                            <span class="price">R$ 45</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="servico-select-premium">
                                    <input type="checkbox" id="servico-corte" class="servico-check-premium">
                                    <label for="servico-corte" class="select-label">
                                        <i class="fas fa-check"></i>
                                        <span>Selecionar</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Barba Completa -->
                            <div class="servico-card-premium" data-servico="barba" data-preco="35" data-duracao="30">
                                <div class="servico-image">
                                    <img src="assets/service-beard.jpg" alt="Barba Completa">
                                    <div class="servico-overlay"></div>
                                </div>

                                <div class="servico-body">
                                    <div class="servico-icon">
                                        <i class="fas fa-razor"></i>
                                    </div>
                                    <h3>Barba Completa</h3>
                                    <p>Experiência completa com toalhas quentes, navalha e produtos especiais para sua
                                        pele.</p>

                                    <div class="servico-details">
                                        <div class="detail-item">
                                            <i class="far fa-clock"></i>
                                            <span>30 min</span>
                                        </div>
                                        <div class="detail-item">
                                            <i class="fas fa-tag"></i>
                                            <span class="price">R$ 35</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="servico-select-premium">
                                    <input type="checkbox" id="servico-barba" class="servico-check-premium">
                                    <label for="servico-barba" class="select-label">
                                        <i class="fas fa-check"></i>
                                        <span>Selecionar</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Corte + Barba (Combo) -->
                            <div class="servico-card-premium featured" data-servico="corte-barba" data-preco="70"
                                data-duracao="60">
                                <div class="servico-image">
                                    <img src="assets/service-combo.jpg" alt="Corte + Barba">
                                    <div class="servico-overlay">
                                        <div class="servico-tag">Melhor valor</div>
                                    </div>
                                </div>

                                <div class="servico-body">
                                    <div class="servico-icon">
                                        <i class="fas fa-crown"></i>
                                    </div>
                                    <h3>Corte + Barba <span class="combo-badge">Combo</span></h3>
                                    <p>O pacote completo para o cavalheiro moderno. Transformação total com valor
                                        especial.</p>

                                    <div class="servico-details">
                                        <div class="detail-item">
                                            <i class="far fa-clock"></i>
                                            <span>60 min</span>
                                        </div>
                                        <div class="detail-item">
                                            <i class="fas fa-tag"></i>
                                            <span class="price">R$ 70</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="servico-select-premium">
                                    <input type="checkbox" id="servico-corte-barba" class="servico-check-premium">
                                    <label for="servico-corte-barba" class="select-label">
                                        <i class="fas fa-check"></i>
                                        <span>Selecionar</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Sobrancelha -->
                            <div class="servico-card-premium" data-servico="sobrancelha" data-preco="20"
                                data-duracao="15">
                                <div class="servico-image">
                                    <img src="assets/service-eyebrow.jpg" alt="Sobrancelha">
                                    <div class="servico-overlay"></div>
                                </div>

                                <div class="servico-body">
                                    <div class="servico-icon">
                                        <i class="fas fa-eye"></i>
                                    </div>
                                    <h3>Design de Sobrancelha</h3>
                                    <p>Modelagem precisa que valoriza seu olhar, feita com cera ou pinça.</p>

                                    <div class="servico-details">
                                        <div class="detail-item">
                                            <i class="far fa-clock"></i>
                                            <span>15 min</span>
                                        </div>
                                        <div class="detail-item">
                                            <i class="fas fa-tag"></i>
                                            <span class="price">R$ 20</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="servico-select-premium">
                                    <input type="checkbox" id="servico-sobrancelha" class="servico-check-premium">
                                    <label for="servico-sobrancelha" class="select-label">
                                        <i class="fas fa-check"></i>
                                        <span>Selecionar</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Pigmentação -->
                            <div class="servico-card-premium" data-servico="pigmentacao" data-preco="80"
                                data-duracao="45">
                                <div class="servico-image">
                                    <img src="assets/service-pigmentation.jpg" alt="Pigmentação">
                                    <div class="servico-overlay"></div>
                                </div>

                                <div class="servico-body">
                                    <div class="servico-icon">
                                        <i class="fas fa-pen-fancy"></i>
                                    </div>
                                    <h3>Pigmentação</h3>
                                    <p>Técnica especial para preencher falhas na barba e bigode com resultado natural.
                                    </p>

                                    <div class="servico-details">
                                        <div class="detail-item">
                                            <i class="far fa-clock"></i>
                                            <span>45 min</span>
                                        </div>
                                        <div class="detail-item">
                                            <i class="fas fa-tag"></i>
                                            <span class="price">R$ 80</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="servico-select-premium">
                                    <input type="checkbox" id="servico-pigmentacao" class="servico-check-premium">
                                    <label for="servico-pigmentacao" class="select-label">
                                        <i class="fas fa-check"></i>
                                        <span>Selecionar</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Resumo Rápido -->
                        <div class="quick-summary" id="quickSummary" style="display: none;">
                            <div class="summary-content">
                                <span class="summary-label">Serviços selecionados:</span>
                                <span class="summary-value" id="selectedCount">0</span>
                                <span class="summary-label">Valor total:</span>
                                <span class="summary-value" id="selectedTotal">R$ 0</span>
                            </div>
                        </div>

                        <div class="step-actions-premium">
                            <button class="btn-outline-premium" onclick="window.location.href='index.html'">
                                <i class="fas fa-arrow-left"></i> Cancelar
                            </button>
                            <button class="btn-primary-premium" onclick="validateStep1()">
                                Próximo passo<i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- PASSO 2: PROFISSIONAIS -->
                    <div id="step2" class="step-content">
                        <div class="step-header-premium">
                            <h2>Nossos <span class="gold">Mestres</span></h2>
                            <p>Artistas da navalha dedicados a realçar sua elegância</p>
                        </div>

                        <div class="profissionais-grid-premium">
                            <!-- João Silva -->
                            <div class="profissional-card-premium" data-profissional="joao">
                                <div class="profissional-image">
                                    <img src="assets/barber-joao.jpg" alt="João Silva - Mestre Barbeiro">
                                    <div class="profissional-social">
                                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                                    </div>
                                    <div class="profissional-exp">
                                        <span>12 anos</span>
                                    </div>
                                </div>

                                <div class="profissional-body">
                                    <h3>João Silva</h3>
                                    <p class="profissional-title">Mestre Barbeiro</p>
                                    <p class="profissional-specialty">Especialista em Cortes Clássicos</p>

                                    <div class="profissional-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span class="rating-count">128 avaliações</span>
                                    </div>

                                    <div class="profissional-badges">
                                        <span class="badge"><i class="fas fa-trophy"></i> Top 1</span>
                                        <span class="badge"><i class="fas fa-medal"></i> Expert</span>
                                    </div>
                                </div>

                                <div class="profissional-select-premium">
                                    <input type="radio" name="profissional" id="prof-joao" value="joao">
                                    <label for="prof-joao" class="select-radio">
                                        <span class="radio-circle"></span>
                                        <span class="radio-label">Selecionar</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Pedro Santos -->
                            <div class="profissional-card-premium" data-profissional="pedro">
                                <div class="profissional-image">
                                    <img src="assets/barber-pedro.jpg" alt="Pedro Santos - Barbeiro">
                                    <div class="profissional-social">
                                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                                    </div>
                                    <div class="profissional-exp">
                                        <span>8 anos</span>
                                    </div>
                                </div>

                                <div class="profissional-body">
                                    <h3>Pedro Santos</h3>
                                    <p class="profissional-title">Barbeiro Senior</p>
                                    <p class="profissional-specialty">Especialista em Barba e Navalha</p>

                                    <div class="profissional-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </div>
                                        <span class="rating-count">95 avaliações</span>
                                    </div>

                                    <div class="profissional-badges">
                                        <span class="badge"><i class="fas fa-razor"></i> Navalha</span>
                                    </div>
                                </div>

                                <div class="profissional-select-premium">
                                    <input type="radio" name="profissional" id="prof-pedro" value="pedro">
                                    <label for="prof-pedro" class="select-radio">
                                        <span class="radio-circle"></span>
                                        <span class="radio-label">Selecionar</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Carlos Oliveira -->
                            <div class="profissional-card-premium" data-profissional="carlos">
                                <div class="profissional-image">
                                    <img src="assets/barber-carlos.jpg" alt="Carlos Oliveira - Barbeiro">
                                    <div class="profissional-social">
                                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                                    </div>
                                    <div class="profissional-exp">
                                        <span>15 anos</span>
                                    </div>
                                </div>

                                <div class="profissional-body">
                                    <h3>Carlos Oliveira</h3>
                                    <p class="profissional-title">Mestre em Pigmentação</p>
                                    <p class="profissional-specialty">Especialista em Pigmentação e Acabamento</p>

                                    <div class="profissional-rating">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <span class="rating-count">156 avaliações</span>
                                    </div>

                                    <div class="profissional-badges">
                                        <span class="badge"><i class="fas fa-crown"></i> Mestre</span>
                                        <span class="badge"><i class="fas fa-palette"></i> Pigmentação</span>
                                    </div>
                                </div>

                                <div class="profissional-select-premium">
                                    <input type="radio" name="profissional" id="prof-carlos" value="carlos">
                                    <label for="prof-carlos" class="select-radio">
                                        <span class="radio-circle"></span>
                                        <span class="radio-label">Selecionar</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Qualquer Profissional -->
                            <div class="profissional-card-premium qualquer" data-profissional="qualquer">
                                <div class="profissional-image qualquer-image">
                                    <i class="fas fa-users"></i>
                                </div>

                                <div class="profissional-body">
                                    <h3>Qualquer Profissional</h3>
                                    <p class="profissional-title">Melhor disponibilidade</p>
                                    <p class="profissional-specialty">Deixe que escolhamos o melhor profissional
                                        disponível para você</p>

                                    <div class="profissional-features">
                                        <span><i class="fas fa-clock"></i> Agendamento mais rápido</span>
                                        <span><i class="fas fa-star"></i> Garantia de qualidade</span>
                                    </div>
                                </div>

                                <div class="profissional-select-premium">
                                    <input type="radio" name="profissional" id="prof-qualquer" value="qualquer" checked>
                                    <label for="prof-qualquer" class="select-radio">
                                        <span class="radio-circle"></span>
                                        <span class="radio-label">Selecionar</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions-premium">
                            <button class="btn-outline-premium" onclick="prevStep(2)">
                                <i class="fas fa-arrow-left"></i> Voltar
                            </button>
                            <button class="btn-primary-premium" onclick="validateStep2()">
                                Próximo Passo <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- PASSO 3: DATA E HORÁRIO -->
                    <div id="step3" class="step-content">
                        <div class="step-header-premium">
                            <h2>Escolha <span class="gold">Data & Horário</span></h2>
                            <p>Selecione o melhor momento para sua visita</p>
                        </div>

                        <div class="datetime-premium">
                            <!-- Calendário -->
                            <div class="calendario-premium">
                                <div class="calendario-header-premium">
                                    <button class="btn-month-premium" onclick="changeMonth(-1)">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <h3 id="mesAtual">Março 2024</h3>
                                    <button class="btn-month-premium" onclick="changeMonth(1)">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>

                                <div class="calendario-semana-premium">
                                    <div>D</div>
                                    <div>S</div>
                                    <div>T</div>
                                    <div>Q</div>
                                    <div>Q</div>
                                    <div>S</div>
                                    <div>S</div>
                                </div>

                                <div class="calendario-dias-premium" id="calendarioDias"></div>

                                <div class="calendario-legenda">
                                    <span class="legenda-item"><span class="dot disponivel"></span> Disponível</span>
                                    <span class="legenda-item"><span class="dot indisponivel"></span>
                                        Indisponível</span>
                                    <span class="legenda-item"><span class="dot hoje"></span> Hoje</span>
                                </div>
                            </div>

                            <!-- Horários -->
                            <div class="horarios-premium">
                                <h4>Horários disponíveis</h4>
                                <div class="horarios-grid-premium" id="horariosGrid"></div>

                                <div class="horarios-info">
                                    <i class="fas fa-info-circle"></i>
                                    <span>Os horários são atualizados em tempo real</span>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions-premium">
                            <button class="btn-outline-premium" onclick="prevStep(3)">
                                <i class="fas fa-arrow-left"></i> Voltar
                            </button>
                            <button class="btn-primary-premium" onclick="validateStep3()">
                                Próximo Passo <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- PASSO 4: CONFIRMAÇÃO -->
                    <div id="step4" class="step-content">
                        <div class="step-header-premium">
                            <h2>Confirme <span class="gold">seus detalhes</span></h2>
                            <p>Revise todas as informações antes de finalizar</p>
                        </div>

                        <div class="confirmacao-premium">
                            <!-- Resumo do Agendamento -->
                            <div class="resumo-premium">
                                <div class="resumo-header-premium">
                                    <i class="fas fa-calendar-check"></i>
                                    <h3>Resumo da sua experiência</h3>
                                </div>

                                <div class="resumo-body-premium">
                                    <!-- Serviços -->
                                    <div class="resumo-servicos">
                                        <h4>Serviços selecionados</h4>
                                        <div id="resumoServicosList" class="servicos-resumo-lista"></div>
                                    </div>

                                    <!-- Informações -->
                                    <div class="resumo-info-grid">
                                        <div class="info-card-premium">
                                            <i class="fas fa-user-tie"></i>
                                            <div class="info-content">
                                                <span class="info-label">Profissional</span>
                                                <span class="info-value" id="resumoProfissional">-</span>
                                            </div>
                                        </div>

                                        <div class="info-card-premium">
                                            <i class="fas fa-calendar-alt"></i>
                                            <div class="info-content">
                                                <span class="info-label">Data</span>
                                                <span class="info-value" id="resumoData">-</span>
                                            </div>
                                        </div>

                                        <div class="info-card-premium">
                                            <i class="fas fa-clock"></i>
                                            <div class="info-content">
                                                <span class="info-label">Horário</span>
                                                <span class="info-value" id="resumoHorario">-</span>
                                            </div>
                                        </div>

                                        <div class="info-card-premium">
                                            <i class="fas fa-hourglass-half"></i>
                                            <div class="info-content">
                                                <span class="info-label">Duração</span>
                                                <span class="info-value" id="resumoDuracao">-</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Total -->
                                    <div class="resumo-total-premium">
                                        <span>Valor total</span>
                                        <span id="resumoTotal">R$ 0,00</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Dados do Cliente -->
                            <div class="dados-premium">
                                <div class="dados-header-premium">
                                    <i class="fas fa-user-circle"></i>
                                    <h3>Seus dados</h3>
                                </div>

                                <div class="dados-body-premium">
                                    <div class="input-group-premium">
                                        <label for="nome_completo">
                                            <i class="fas fa-user"></i>
                                            Nome completo <span class="required">*</span>
                                        </label>
                                        <input type="text" id="nome_completo"
                                            placeholder="Como você prefere ser chamado">
                                    </div>

                                    <div class="input-group-premium">
                                        <label for="telefone_contato">
                                            <i class="fas fa-phone-alt"></i>
                                            Telefone <span class="required">*</span>
                                        </label>
                                        <input type="tel" id="telefone_contato" placeholder="(11) 99999-9999">
                                    </div>

                                    <div class="input-group-premium">
                                        <label for="email_contato">
                                            <i class="fas fa-envelope"></i>
                                            E-mail <span class="required">*</span>
                                        </label>
                                        <input type="email" id="email_contato" placeholder="seu@email.com">
                                    </div>

                                    <div class="input-group-premium">
                                        <label for="observacoes">
                                            <i class="fas fa-comment-dots"></i>
                                            Observações
                                        </label>
                                        <textarea id="observacoes"
                                            placeholder="Alguma preferência especial? Alergias? Conte para nós..."></textarea>
                                    </div>

                                    <div class="checkbox-group-premium">
                                        <label class="checkbox-premium">
                                            <input type="checkbox" id="termos">
                                            <span class="checkmark"></span>
                                            <span class="checkbox-text">
                                                Li e aceito os <a href="#">termos e condições</a> de agendamento
                                            </span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions-premium">
                            <button class="btn-outline-premium" onclick="prevStep(4)">
                                <i class="fas fa-arrow-left"></i> Voltar
                            </button>
                            <button class="btn-primary-premium" onclick="finalizarAgendamento()">
                                <i class="fas fa-check-circle"></i> Confirmar Agendamento
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal de Sucesso Ultra Premium -->
    <div id="successModal" class="modal-premium">
        <div class="modal-content-premium">
            <div class="modal-icon-premium">
                <div class="icon-circle">
                    <i class="fas fa-check"></i>
                </div>
            </div>

            <h2>Agendamento Confirmado!</h2>
            <p class="modal-subtitle">Sua experiência na Barbearia Vintage está reservada</p>

            <div class="modal-detalhes-premium">
                <div class="modal-detalhe-item">
                    <i class="fas fa-calendar"></i>
                    <div>
                        <span class="detalhe-label">Data</span>
                        <span class="detalhe-value" id="modalData"></span>
                    </div>
                </div>
                <div class="modal-detalhe-item">
                    <i class="fas fa-clock"></i>
                    <div>
                        <span class="detalhe-label">Horário</span>
                        <span class="detalhe-value" id="modalHorario"></span>
                    </div>
                </div>
                <div class="modal-detalhe-item">
                    <i class="fas fa-user-tie"></i>
                    <div>
                        <span class="detalhe-label">Profissional</span>
                        <span class="detalhe-value" id="modalProfissional"></span>
                    </div>
                </div>
            </div>

            <div class="modal-message">
                <i class="fas fa-envelope-open-text"></i>
                <p>Enviamos um e-mail com todos os detalhes e lembretes</p>
            </div>

            <div class="modal-actions-premium">
                <button class="btn-outline-premium" onclick="window.location.href='index.html'">
                    <i class="fas fa-home"></i> Página Inicial
                </button>
                <button class="btn-primary-premium" onclick="window.location.href='dashboard-cliente.html'">
                    <i class="fas fa-calendar-alt"></i> Meus Agendamentos
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification Premium -->
    <div id="toast" class="toast-premium"></div>

    <!-- Rodapé -->
    <footer class="footer-premium">
        <div class="container">
            <div class="footer-content-premium">
                <div class="footer-info-premium">
                    <div class="logo-premium">
                        <img src="assets/logo-gold.svg" alt="Barbearia Vintage">
                        <span>Barbearia <em>Vintage</em></span>
                    </div>
                    <p>Tradição, elegância e estilo em cada detalhe</p>
                    <div class="social-links-premium">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>

                <div class="footer-links-premium">
                    <h4>Navegação</h4>
                    <ul>
                        <li><a href="index.html#home">Início</a></li>
                        <li><a href="index.html#servicos">Serviços</a></li>
                        <li><a href="index.html#profissionais">Mestres Barbeiros</a></li>
                        <li><a href="index.html#sobre">Nosso Ateliê</a></li>
                        <li><a href="login.html">Área do Cliente</a></li>
                    </ul>
                </div>

                <div class="footer-contato-premium">
                    <h4>Contato</h4>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> Rua das Barbearias, 123 - Centro</li>
                        <li><i class="fas fa-phone"></i> (11) 99999-9999</li>
                        <li><i class="fas fa-envelope"></i> contato@barbeariavintage.com</li>
                        <li><i class="fas fa-clock"></i> Seg-Sáb: 9h às 20h</li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom-premium">
                <p>&copy; 2024 Barbearia Vintage. Todos os direitos reservados.</p>
                <p>Desenvolvido com <i class="fas fa-heart"></i> para cavalheiros distintos</p>
            </div>
        </div>
    </footer>

    <script>
        // Variáveis globais
        let currentStep = 1;
        let selectedServices = [];
        let selectedProfessional = null;
        let selectedDate = null;
        let selectedTime = null;
        let currentMonth = new Date();

        // Dados simulados
        const unavailableDates = ['2024-03-15', '2024-03-20', '2024-03-25'];
        const unavailableTimes = ['12:00', '12:30', '13:00', '19:00', '19:30'];

        // Inicialização
        document.addEventListener('DOMContentLoaded', function () {
            updateCalendar();
            setupEventListeners();
            generateTimeSlots();
            updateQuickSummary();
            updateProgressBar(1);

            // Inicializar selectedProfessional com o valor padrão
            const qualqerRadio = document.getElementById('prof-qualquer');
            if (qualqerRadio) {
                qualqerRadio.checked = true;
                selectedProfessional = 'qualquer';
            }
        });

        function setupEventListeners() {
            // Checkboxes de serviços
            document.querySelectorAll('.servico-check-premium').forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    const card = this.closest('.servico-card-premium');
                    if (this.checked) {
                        card.classList.add('selected');
                    } else {
                        card.classList.remove('selected');
                    }
                    updateQuickSummary();
                });
            });

            // Radio buttons de profissionais
            document.querySelectorAll('input[name="profissional"]').forEach(radio => {
                radio.addEventListener('change', function () {
                    selectedProfessional = this.value;
                    // Remover selected de todos os cards
                    document.querySelectorAll('.profissional-card-premium').forEach(card => {
                        card.classList.remove('selected');
                    });
                    // Adicionar selected ao card atual
                    this.closest('.profissional-card-premium').classList.add('selected');
                });
            });

            // Menu toggle
            document.getElementById('menuToggle')?.addEventListener('click', function () {
                document.querySelector('.nav-menu-premium').classList.toggle('active');
            });
        }

        function updateProgressBar(step) {
            const progressFill = document.getElementById('progressFill');
            const steps = document.querySelectorAll('.step-item');

            progressFill.style.width = `${step * 25}%`;

            steps.forEach((s, index) => {
                if (index < step) {
                    s.classList.add('active');
                } else {
                    s.classList.remove('active');
                }
            });
        }

        function nextStep(step) {
            document.getElementById(`step${step}`).classList.remove('active');
            document.getElementById(`step${step + 1}`).classList.add('active');
            currentStep = step + 1;
            updateProgressBar(currentStep);

            if (currentStep === 4) {
                updateResumo();
            }

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function prevStep(step) {
            document.getElementById(`step${step}`).classList.remove('active');
            document.getElementById(`step${step - 1}`).classList.add('active');
            currentStep = step - 1;
            updateProgressBar(currentStep);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // PASSO 1: VALIDAÇÃO DE SERVIÇOS
        function validateStep1() {
            selectedServices = [];
            document.querySelectorAll('.servico-check-premium:checked').forEach(checkbox => {
                const card = checkbox.closest('.servico-card-premium');
                selectedServices.push({
                    nome: card.querySelector('h3').textContent.trim().replace('Combo', '').trim(),
                    preco: parseFloat(card.dataset.preco),
                    duracao: parseInt(card.dataset.duracao)
                });
            });

            if (selectedServices.length === 0) {
                showToast('Selecione pelo menos um serviço para continuar', 'error');
                return false;
            }

            // Salvar serviços selecionados no sessionStorage para uso nos próximos passos
            sessionStorage.setItem('selectedServices', JSON.stringify(selectedServices));

            nextStep(1);
            return true;
        }

        // PASSO 2: VALIDAÇÃO DE PROFISSIONAL
        function validateStep2() {
            const profissionalSelecionado = document.querySelector('input[name="profissional"]:checked');

            if (!profissionalSelecionado) {
                showToast('Selecione um profissional para continuar', 'error');
                return false;
            }

            selectedProfessional = profissionalSelecionado.value;

            // Obter nome do profissional para exibição
            let profissionalNome = 'Qualquer profissional';
            if (selectedProfessional !== 'qualquer') {
                const card = profissionalSelecionado.closest('.profissional-card-premium');
                profissionalNome = card.querySelector('h3').textContent;
            }

            // Salvar profissional selecionado
            sessionStorage.setItem('selectedProfessional', JSON.stringify({
                id: selectedProfessional,
                nome: profissionalNome
            }));

            nextStep(2);
            return true;
        }

        // PASSO 3: VALIDAÇÃO DE DATA E HORÁRIO
        function validateStep3() {
            if (!selectedDate) {
                showToast('Selecione uma data para continuar', 'error');
                return false;
            }

            if (!selectedTime) {
                showToast('Selecione um horário para continuar', 'error');
                return false;
            }

            // Salvar data e horário
            sessionStorage.setItem('selectedDateTime', JSON.stringify({
                date: selectedDate,
                time: selectedTime
            }));

            nextStep(3);
            updateResumo();
            return true;
        }

        // Funções do Calendário
        function updateCalendar() {
            const year = currentMonth.getFullYear();
            const month = currentMonth.getMonth();

            document.getElementById('mesAtual').textContent =
                currentMonth.toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' });

            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);

            let daysHtml = '';

            // Dias do mês anterior
            for (let i = 0; i < firstDay.getDay(); i++) {
                daysHtml += '<div class="calendario-dia outro-mes"></div>';
            }

            // Dias do mês atual
            for (let d = 1; d <= lastDay.getDate(); d++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
                const isUnavailable = unavailableDates.includes(dateStr);
                const isToday = dateStr === new Date().toISOString().split('T')[0];

                daysHtml += `
                    <div class="calendario-dia ${isUnavailable ? 'indisponivel' : ''} ${isToday ? 'hoje' : ''}" 
                         onclick="selectDate('${dateStr}')">
                        ${d}
                    </div>
                `;
            }

            document.getElementById('calendarioDias').innerHTML = daysHtml;
        }

        function changeMonth(delta) {
            currentMonth.setMonth(currentMonth.getMonth() + delta);
            updateCalendar();
        }

        function selectDate(dateStr) {
            if (unavailableDates.includes(dateStr)) {
                showToast('Data indisponível para agendamento', 'error');
                return;
            }

            selectedDate = dateStr;
            document.querySelectorAll('.calendario-dia').forEach(dia => {
                dia.classList.remove('selected');
            });
            event.target.classList.add('selected');

            // Atualizar label da data selecionada
            const dataObj = new Date(dateStr + 'T12:00:00');
            const dataLabel = document.querySelector('.horarios-data');
            if (dataLabel) {
                dataLabel.textContent = dataObj.toLocaleDateString('pt-BR', {
                    day: '2-digit',
                    month: 'long'
                });
            }

            updateAvailableTimes(dateStr);
        }

        function generateTimeSlots() {
            const horarios = [
                '09:00', '09:30', '10:00', '10:30', '11:00', '11:30',
                '13:00', '13:30', '14:00', '14:30', '15:00', '15:30',
                '16:00', '16:30', '17:00', '17:30', '18:00', '18:30', '19:00', '19:30'
            ];

            let html = '';
            horarios.forEach(horario => {
                const isUnavailable = unavailableTimes.includes(horario);
                html += `
                    <button class="horario-btn ${isUnavailable ? 'indisponivel' : ''}" 
                            onclick="selectTime('${horario}')"
                            ${isUnavailable ? 'disabled' : ''}>
                        ${horario}
                    </button>
                `;
            });

            const horariosGrid = document.getElementById('horariosGrid');
            if (horariosGrid) {
                horariosGrid.innerHTML = html;
            }
        }

        function updateAvailableTimes(date) {
            // CORREÇÃO: Lista de horários que estarão disponíveis (todos exceto os indisponíveis)
            const horariosDisponiveis = [
                '09:00', '09:30', '10:00', '10:30', '11:00', '11:30',
                '13:00', '13:30', '14:00', '14:30', '15:00', '15:30',
                '16:00', '16:30', '17:00', '17:30', '18:00', '18:30', '19:00', '19:30'
            ];

            // Filtrar apenas os que não estão na lista de indisponíveis
            const horariosFiltrados = horariosDisponiveis.filter(h => !unavailableTimes.includes(h));

            let html = '';
            horariosFiltrados.forEach(horario => {
                html += `
            <button class="horario-btn" 
                    onclick="selectTime('${horario}')">
                ${horario}
            </button>
        `;
            });

            const horariosGrid = document.getElementById('horariosGrid');
            if (horariosGrid) {
                horariosGrid.innerHTML = html;
            }
        }

        function selectTime(time) {
            selectedTime = time;
            document.querySelectorAll('.horario-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }

        // PASSO 4: FUNÇÕES DE CONFIRMAÇÃO
        function updateResumo() {
            // Recuperar dados salvos
            const servicos = JSON.parse(sessionStorage.getItem('selectedServices')) || selectedServices;
            const profissional = JSON.parse(sessionStorage.getItem('selectedProfessional'));
            const dateTime = JSON.parse(sessionStorage.getItem('selectedDateTime'));

            if (!servicos || servicos.length === 0) {
                servicos = selectedServices;
            }

            // Atualizar lista de serviços
            const servicosList = document.getElementById('resumoServicosList');
            if (servicosList) {
                let servicosHtml = '';
                let totalPreco = 0;
                let totalDuracao = 0;

                servicos.forEach(servico => {
                    servicosHtml += `
                        <div class="servico-resumo-item">
                            <span>${servico.nome}</span>
                            <span>R$ ${servico.preco.toFixed(2).replace('.', ',')}</span>
                        </div>
                    `;
                    totalPreco += servico.preco;
                    totalDuracao += servico.duracao;
                });

                servicosList.innerHTML = servicosHtml;

                // Duração total
                const horas = Math.floor(totalDuracao / 60);
                const minutos = totalDuracao % 60;
                const duracaoTexto = horas > 0 ? `${horas}h ${minutos}min` : `${minutos}min`;
                document.getElementById('resumoDuracao').textContent = duracaoTexto;

                // Total
                document.getElementById('resumoTotal').textContent =
                    `R$ ${totalPreco.toFixed(2).replace('.', ',')}`;
            }

            // Profissional
            if (profissional) {
                document.getElementById('resumoProfissional').textContent = profissional.nome;
            } else {
                const profNome = document.querySelector('input[name="profissional"]:checked')?.closest('.profissional-card-premium')?.querySelector('h3')?.textContent || 'Qualquer profissional';
                document.getElementById('resumoProfissional').textContent = profNome;
            }

            // Data e Horário
            if (dateTime) {
                const dataObj = new Date(dateTime.date + 'T12:00:00');
                document.getElementById('resumoData').textContent =
                    dataObj.toLocaleDateString('pt-BR', { day: '2-digit', month: 'long', year: 'numeric' });
                document.getElementById('resumoHorario').textContent = dateTime.time;
            } else if (selectedDate && selectedTime) {
                const dataObj = new Date(selectedDate + 'T12:00:00');
                document.getElementById('resumoData').textContent =
                    dataObj.toLocaleDateString('pt-BR', { day: '2-digit', month: 'long', year: 'numeric' });
                document.getElementById('resumoHorario').textContent = selectedTime;
            }
        }

        function finalizarAgendamento() {
            const nome = document.getElementById('nome_completo')?.value;
            const telefone = document.getElementById('telefone_contato')?.value;
            const email = document.getElementById('email_contato')?.value;
            const termos = document.getElementById('termos')?.checked;

            if (!nome || !telefone || !email) {
                showToast('Preencha todos os campos obrigatórios', 'error');
                return;
            }

            if (!termos) {
                showToast('Aceite os termos para continuar', 'error');
                return;
            }

            if (!validatePhone(telefone)) {
                showToast('Telefone inválido. Use o formato (11) 99999-9999', 'error');
                return;
            }

            if (!validateEmail(email)) {
                showToast('E-mail inválido', 'error');
                return;
            }

            // Mostrar loading no botão
            const btn = document.querySelector('#step4 .btn-primary-premium');
            btn.classList.add('loading');
            btn.disabled = true;

            // Simular envio
            setTimeout(() => {
                btn.classList.remove('loading');
                btn.disabled = false;

                // Salvar agendamento
                saveAgendamento();

                // Mostrar modal de sucesso
                showSuccessModal();
            }, 1500);
        }

        function validatePhone(phone) {
            const numbers = phone.replace(/\D/g, '');
            return numbers.length >= 10 && numbers.length <= 11;
        }

        function validateEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        function saveAgendamento() {
            const servicos = JSON.parse(sessionStorage.getItem('selectedServices')) || selectedServices;
            const profissional = JSON.parse(sessionStorage.getItem('selectedProfessional'));
            const dateTime = JSON.parse(sessionStorage.getItem('selectedDateTime')) || {
                date: selectedDate,
                time: selectedTime
            };

            const agendamento = {
                id: Date.now(),
                servicos: servicos,
                profissional: profissional || { id: 'qualquer', nome: 'Qualquer profissional' },
                data: dateTime.date,
                horario: dateTime.time,
                cliente: {
                    nome: document.getElementById('nome_completo').value,
                    telefone: document.getElementById('telefone_contato').value,
                    email: document.getElementById('email_contato').value,
                    observacoes: document.getElementById('observacoes').value
                },
                status: 'confirmado',
                timestamp: new Date().toISOString()
            };

            // Salvar no localStorage
            let agendamentos = JSON.parse(localStorage.getItem('agendamentos') || '[]');
            agendamentos.push(agendamento);
            localStorage.setItem('agendamentos', JSON.stringify(agendamentos));

            // Limpar sessionStorage
            sessionStorage.clear();
        }

        function showSuccessModal() {
            const profissional = JSON.parse(sessionStorage.getItem('selectedProfessional'));
            const dateTime = JSON.parse(sessionStorage.getItem('selectedDateTime')) || {
                date: selectedDate,
                time: selectedTime
            };

            if (dateTime.date) {
                const dataObj = new Date(dateTime.date + 'T12:00:00');
                document.getElementById('modalData').textContent =
                    dataObj.toLocaleDateString('pt-BR', { day: '2-digit', month: 'long', year: 'numeric' });
            }

            document.getElementById('modalHorario').textContent = dateTime.time || selectedTime;
            document.getElementById('modalProfissional').textContent =
                profissional?.nome ||
                document.querySelector('input[name="profissional"]:checked')?.closest('.profissional-card-premium')?.querySelector('h3')?.textContent ||
                'Qualquer profissional';

            document.getElementById('successModal').style.display = 'flex';
        }

        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast-premium show toast-${type}`;

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function updateQuickSummary() {
            const selectedCount = document.querySelectorAll('.servico-check-premium:checked').length;
            const summary = document.getElementById('quickSummary');

            if (selectedCount > 0) {
                summary.style.display = 'block';
                document.getElementById('selectedCount').textContent = selectedCount;

                let total = 0;
                document.querySelectorAll('.servico-check-premium:checked').forEach(checkbox => {
                    const card = checkbox.closest('.servico-card-premium');
                    total += parseFloat(card.dataset.preco);
                });
                document.getElementById('selectedTotal').textContent = `R$ ${total}`;
            } else {
                summary.style.display = 'none';
            }
        }

        // Fechar modal ao clicar fora
        window.onclick = function (event) {
            const modal = document.getElementById('successModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        // Corrigir o link do botão "Próximo passo" no passo 1
        document.addEventListener('DOMContentLoaded', function () {
            const btnProximoPasso = document.querySelector('#step1 .btn-primary-premium a');
            if (btnProximoPasso) {
                btnProximoPasso.addEventListener('click', function (e) {
                    e.preventDefault();
                    validateStep1();
                });
            }
        });
    </script>
</body>

</html>